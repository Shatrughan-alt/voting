{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91630\\\\Desktop\\\\Voting-Dapp-master\\\\client\\\\src\\\\components\\\\Winner.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Winner = ({\n  state\n}) => {\n  _s();\n  // const [endTime, setEndTime] = useState(date);\n  const [pollEnded, setPollEnded] = useState();\n  const [endTimeInUnix, setUnixTime] = useState();\n  const [winnerInfo, setWinnerInfo] = useState({\n    candidateId: null,\n    name: null,\n    party: null\n  });\n  const getTime = async () => {\n    try {\n      const _endTime = Number(await state.contract.endTime());\n      setUnixTime(_endTime);\n    } catch (error) {\n      // console.log(error);\n    }\n  };\n  const compare = async () => {\n    await getTime();\n    let dte = new Date().getTime();\n    dte = Math.floor(dte / 1000);\n    if (endTimeInUnix > dte) {\n      setPollEnded(false);\n    } else {\n      try {\n        const val = await state.contract.EcPollInfo();\n        const id = Number(val[0]);\n        const name = val[1];\n        const party = val[2];\n        setWinnerInfo({\n          id,\n          name,\n          party\n        });\n        // console.log(val[0],val[1],val[2],val[3])\n      } catch (error) {\n        console.log(error);\n      }\n      setPollEnded(true);\n    }\n  };\n  // console.log(winnerInfo)\n\n  useEffect(() => {\n    compare();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-[100%]  rounded-3xl p-px bg-gradient-to-b from-blue-300 to-pink-300 dark:from-blue-800 dark:to-purple-800 transition-all duration-700 hover:shadow-[0_3px_10px_rgb(0.4,0.4,0.4,0.4)] dark:hover:shadow-cyan-500/50 \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-[calc(1.5rem-1px)] p-6 w-[100%] bg-white dark:bg-gray-900 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 items-center justify-around\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-700 dark:text-white\",\n              children: winnerInfo.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-light text-gray-700 dark:text-gray-600\",\n              children: \"Party\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm tracking-wide text-gray-600 dark:text-gray-400\",\n              children: winnerInfo.party\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Winner, \"btS9qxC7mz9yoHvGGX9pwnAplqE=\");\n_c = Winner;\nexport default Winner;\nvar _c;\n$RefreshReg$(_c, \"Winner\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Winner","state","_s","pollEnded","setPollEnded","endTimeInUnix","setUnixTime","winnerInfo","setWinnerInfo","candidateId","name","party","getTime","_endTime","Number","contract","endTime","error","compare","dte","Date","Math","floor","val","EcPollInfo","id","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/91630/Desktop/Voting-Dapp-master/client/src/components/Winner.jsx"],"sourcesContent":["import React from 'react'\nimport { useEffect, useState } from \"react\";\n\nconst Winner = ({state}) => {\n\n\n    // const [endTime, setEndTime] = useState(date);\n    const [pollEnded, setPollEnded] = useState();\n    const [endTimeInUnix,setUnixTime] = useState()\n    const [winnerInfo,setWinnerInfo] = useState({\n        candidateId:null,\n        name:null,\n        party:null\n    })\n  \n    const getTime = async () => {\n      try {\n        const _endTime = Number(await state.contract.endTime());\n        setUnixTime(_endTime)\n      } catch (error) {\n        // console.log(error);\n      }\n    };\n  \n    const compare = async () => {\n      await getTime()\n\n      let dte = new Date().getTime()\n      dte = Math.floor(dte/1000)\n      if (endTimeInUnix > dte) {\n        setPollEnded(false);\n      } else {\n        try{\n          const val =  (await state.contract.EcPollInfo())\n          const id = Number(val[0])\n          const name = (val[1])\n          const party = (val[2])\n          setWinnerInfo({id,name,party})\n          // console.log(val[0],val[1],val[2],val[3])\n        }catch(error){\n          console.log(error)\n        }\n        setPollEnded(true);\n      }\n    };\n    // console.log(winnerInfo)\n\n    useEffect(()=>{\n        compare()\n    },[])\n  \n  return (\n        <>\n      <div className=\"w-[100%]  rounded-3xl p-px bg-gradient-to-b from-blue-300 to-pink-300 dark:from-blue-800 dark:to-purple-800 transition-all duration-700 hover:shadow-[0_3px_10px_rgb(0.4,0.4,0.4,0.4)] dark:hover:shadow-cyan-500/50 \">\n            <div className=\"rounded-[calc(1.5rem-1px)] p-6 w-[100%] bg-white dark:bg-gray-900 \">\n            <div className=\"flex gap-4 items-center justify-around\">\n\n                {/* party and name starts here  */}\n                \n                <div>\n                    <h3 className=\"text-lg font-medium text-gray-700 dark:text-white\">\n                    {winnerInfo.name}\n                    </h3>\n\n                </div>\n                {/* party and name ends here  */}\n\n                {/* candidate id starts here  */}\n                <div>\n                    <h3 className=\"text-lg font-light text-gray-700 dark:text-gray-600\">\n                    Party\n                    </h3>\n                    <span className=\"text-sm tracking-wide text-gray-600 dark:text-gray-400\">\n                    {winnerInfo.party}\n                    </span>\n                </div>\n                {/* candidate id ends here  */}\n                </div>\n            </div>\n      </div>  \n        </>\n  )\n}\n\nexport default Winner\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}